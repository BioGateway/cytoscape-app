<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<relationTypes>
		<relationType name="part of">http://purl.obolibrary.org/obo/BFO_0000050</relationType>
		<relationType name="molecularly controls">http://purl.obolibrary.org/obo/RO_0002448</relationType>
		<relationType name="inheres in">http://purl.obolibrary.org/obo/RO_0000052</relationType>
		<relationType name="bearer of">http://purl.obolibrary.org/obo/RO_0000053</relationType>
		<relationType name="regulates">http://purl.obolibrary.org/obo/RO_0002211</relationType>
		<relationType name="negatively regulates">http://purl.obolibrary.org/obo/RO_0002212</relationType>
		<relationType name="positively regulates">http://purl.obolibrary.org/obo/RO_0002213</relationType>
		<relationType name="enables">http://purl.obolibrary.org/obo/RO_0002327</relationType>
		<relationType name="involved in">http://purl.obolibrary.org/obo/RO_0002331</relationType>
		<relationType name="has agent">http://semanticscience.org/resource/SIO_000139</relationType>
		<relationType name="is orthologous to">http://semanticscience.org/resource/SIO_000558</relationType>
		<relationType name="is paralogous to">http://semanticscience.org/resource/SIO_000630</relationType>
		<relationType name="encodes">http://semanticscience.org/resource/SIO_010078</relationType>
	</relationTypes>
	<queryList>
		<query name="Find genes regulated by protein" returnType="nodeListDescription">
			<description>Find genes that are regulated by the TF protein.</description>
			<parameter id="proteinUri" type="uniprot_id">
				<name>Protein URI</name>
			</parameter>
			<sparql>
				BASE &lt;http://www.semantic-systems-biology.org/&gt;  
				PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#&gt; 
				PREFIX inheres_in: &lt;http://purl.obolibrary.org/obo/RO_0000052&gt;  
				PREFIX molecularly_controls: &lt;http://purl.obolibrary.org/obo/RO_0002448&gt;
				PREFIX proteinUri: &lt;@proteinUri&gt;
				PREFIX graph1: &lt;refseq&gt;  
				PREFIX graph2: &lt;refprot&gt; 
				PREFIX graph3: &lt;tf-tg&gt; 

				PREFIX taxon: &lt;http://purl.obolibrary.org/obo/NCBITaxon_9606&gt;  
				SELECT DISTINCT ?geneUri ?gene ?protein
				WHERE {  
					GRAPH graph3: {  
						?triple rdf:subject proteinUri: .  
						?triple rdf:predicate molecularly_controls: .  
						?triple rdf:object ?geneUri .  
				  }  
					GRAPH graph2: {  
						proteinUri: skos:prefLabel ?protein .  
						proteinUri: inheres_in: taxon: . 
				  }  
					GRAPH graph1: {  
						?geneUri skos:prefLabel ?gene .  
						?geneUri inheres_in: taxon: .  
				  }  
				}
			</sparql>
		</query>
		<query name="Find proteins regulating gene" returnType="nodeListDescription">
			<description>Find proteins that are regulating a specific gene.</description>
			<parameter id="geneUri" type="text">
				<name>Gene URI</name>
			</parameter>
			<parameter id="limitToTaxon" type="checkbox" default="true">
				<name>Limit to specific taxon</name>
				<option name="false">#</option>
				<option name="true"> </option>
			</parameter>
			<parameter id="taxon" type="combobox">
				<name>Taxon</name>
				<enabled-dependency parameterId="limitToTaxon" isEnabled="true" forParameterValue="true"></enabled-dependency>
				<option name="Homo Sapiens">http://purl.obolibrary.org/obo/NCBITaxon_9606</option>
				<option name="Mus Musculus">http://purl.obolibrary.org/obo/NCBITaxon_10090</option>
				<option name="Saccharomyces Cerevisiae">http://purl.obolibrary.org/obo/NCBITaxon_559292</option>
				<option name="Schizosaccharomyces Pombe">http://purl.obolibrary.org/obo/NCBITaxon_284812</option>
				<option name="Arabidopsis Thaliana">http://purl.obolibrary.org/obo/NCBITaxon_3702</option>
				<option name="Caenorhabditis Elegans">http://purl.obolibrary.org/obo/NCBITaxon_6239</option>
				<option name="Drosophila Melanogaster">http://purl.obolibrary.org/obo/NCBITaxon_7227</option>
				<option name="Xenopus Tropicalis">http://purl.obolibrary.org/obo/NCBITaxon_8364</option>
			</parameter>
			<sparql>
				BASE &lt;http://www.semantic-systems-biology.org/&gt;  
				PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#&gt; 
				PREFIX inheres_in: &lt;http://purl.obolibrary.org/obo/RO_0000052&gt;  
				PREFIX molecularly_controls: &lt;http://purl.obolibrary.org/obo/RO_0002448&gt;
				PREFIX geneUri: &lt;@geneUri&gt;
				PREFIX graph1: &lt;refseq&gt;  
				PREFIX graph2: &lt;refprot&gt; 
				PREFIX graph3: &lt;tf-tg&gt; 
				PREFIX taxon: &lt;@taxon&gt;  
				SELECT DISTINCT ?proteinUri ?protein ?gene
				WHERE {  
					GRAPH graph3: {  
						?triple rdf:subject ?proteinUri .  
						?triple rdf:predicate molecularly_controls: .  
						?triple rdf:object geneUri: .  
				  }  
					GRAPH graph2: {  
						?proteinUri skos:prefLabel ?protein .  
		  @limitToTaxon ?proteinUri inheres_in: taxon: . 
				  }  
					GRAPH graph1: {  
						geneUri: skos:prefLabel ?gene .  
		  @limitToTaxon geneUri: inheres_in: taxon: .  
				  }  
				}
			</sparql>
		</query>
		<query name="Find genes involved in disease" returnType="nodeListDescription">
			<description>Find genes involved in diseases matching the search term.</description>
			<parameter id="diseaseName" type="text">
				<name>Disease search term</name>
			</parameter>
			<parameter id="taxon" type="combobox">
				<name>Taxon</name>
				<option name="Homo Sapiens">http://purl.obolibrary.org/obo/NCBITaxon_9606</option>
				<option name="Mus Musculus">http://purl.obolibrary.org/obo/NCBITaxon_10090</option>
				<option name="Saccharomyces Cerevisiae">http://purl.obolibrary.org/obo/NCBITaxon_559292</option>
				<option name="Schizosaccharomyces Pombe">http://purl.obolibrary.org/obo/NCBITaxon_284812</option>
				<option name="Arabidopsis Thaliana">http://purl.obolibrary.org/obo/NCBITaxon_3702</option>
				<option name="Caenorhabditis Elegans">http://purl.obolibrary.org/obo/NCBITaxon_6239</option>
				<option name="Drosophila Melanogaster">http://purl.obolibrary.org/obo/NCBITaxon_7227</option>
				<option name="Xenopus Tropicalis">http://purl.obolibrary.org/obo/NCBITaxon_8364</option>
			</parameter>
			<parameter id="returnFields" type="combobox">
				<name>Return</name>
				<option name="Genes">?geneUri ?gene ?disease</option>
				<option name="Proteins">?proteinUri ?protein ?disease</option>
			</parameter>	
			<sparql>
				BASE &lt;http://www.semantic-systems-biology.org/&gt;  
				PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#&gt; 
				PREFIX inheres_in: &lt;http://purl.obolibrary.org/obo/RO_0000052&gt;  
				PREFIX involved_in: &lt;http://purl.obolibrary.org/obo/RO_0002331&gt; 
				PREFIX molecularly_controls: &lt;http://purl.obolibrary.org/obo/RO_0002448&gt;
				PREFIX graph1: &lt;refseq&gt;  
				PREFIX graph2: &lt;refprot&gt; 
				PREFIX graph3: &lt;tf-tg&gt; 
					# Adjust the prefixes below accordingly  
					PREFIX taxon: &lt;@taxon&gt;  
					SELECT DISTINCT @returnFields  
					WHERE {  
					# Adjust the search patterns below accordingly  
						FILTER regex ( str ( ?diseaseDescription  ) , '@diseaseName', 'i' )  .  
						GRAPH graph3: {  
							?triple rdf:subject ?proteinUri .  
							?triple rdf:predicate molecularly_controls: .  
							?triple rdf:object ?geneUri .  
					  }  
  
						GRAPH graph2: {  
							?proteinUri skos:prefLabel ?protein .  
							?proteinUri inheres_in: taxon: .  
							?proteinUri involved_in: ?omim .  
							?omim skos:definition ?diseaseDescription .  
							?omim skos:prefLabel ?disease .  
					  }  
  
						GRAPH graph1: {  
							?geneUri skos:prefLabel ?gene .  
							?geneUri inheres_in: taxon: .  
					  }  
					}  
					ORDER BY ?protein
			</sparql>
		</query>
		<query name="A to B to C query" returnType="relationTriple">
			<description>Search for nodes A related to C through B.</description>
			<parameter id="nodeA" type="optionalUri">
				<name>Node A URI (optional)</name>
			</parameter>
			<parameter id="relationType1" type="combobox">
				<name>A to B relation type</name>
				<option name="part of">http://purl.obolibrary.org/obo/BFO_0000050</option>
				<option name="inheres in">http://purl.obolibrary.org/obo/RO_0000052</option>
				<option name="bearer of">http://purl.obolibrary.org/obo/RO_0000053</option>
				<option name="regulates">http://purl.obolibrary.org/obo/RO_0002211</option>
				<option name="negatively regulates">http://purl.obolibrary.org/obo/RO_0002212</option>
				<option name="positively regulates">http://purl.obolibrary.org/obo/RO_0002213</option>
				<option name="enables">http://purl.obolibrary.org/obo/RO_0002327</option>
				<option name="involved in">http://purl.obolibrary.org/obo/RO_0002331</option>
				<option name="has agent">http://semanticscience.org/resource/SIO_000139</option>
				<option name="is orthologous to">http://semanticscience.org/resource/SIO_000558</option>
				<option name="is paralogous to">http://semanticscience.org/resource/SIO_000630</option>
				<option name="encodes">http://semanticscience.org/resource/SIO_010078</option>
				<option name="molecularly controls">http://purl.obolibrary.org/obo/RO_0002448</option>
				
			</parameter>
			<parameter id="nodeB" type="optionalUri">
				<name>Node B URI (optional)</name>
			</parameter>
			<parameter id="relationType2" type="combobox">
				<name>B to C relation type</name>
				<option name="part of">http://purl.obolibrary.org/obo/BFO_0000050</option>
				<option name="inheres in">http://purl.obolibrary.org/obo/RO_0000052</option>
				<option name="bearer of">http://purl.obolibrary.org/obo/RO_0000053</option>
				<option name="regulates">http://purl.obolibrary.org/obo/RO_0002211</option>
				<option name="negatively regulates">http://purl.obolibrary.org/obo/RO_0002212</option>
				<option name="positively regulates">http://purl.obolibrary.org/obo/RO_0002213</option>
				<option name="enables">http://purl.obolibrary.org/obo/RO_0002327</option>
				<option name="involved in">http://purl.obolibrary.org/obo/RO_0002331</option>
				<option name="has agent">http://semanticscience.org/resource/SIO_000139</option>
				<option name="is orthologous to">http://semanticscience.org/resource/SIO_000558</option>
				<option name="is paralogous to">http://semanticscience.org/resource/SIO_000630</option>
				<option name="encodes">http://semanticscience.org/resource/SIO_010078</option>
				<option name="molecularly controls">http://purl.obolibrary.org/obo/RO_0002448</option>
				
			</parameter>
			<parameter id="nodeC" type="optionalUri">
				<name>Node C URI (optional)</name>
			</parameter>
			<sparql>
		BASE &lt;http://www.semantic-systems-biology.org/&gt;
			SELECT DISTINCT @nodeA @nodeB  @nodeC
			WHERE {
				GRAPH ?graph {
					@nodeA &lt;@relationType1&gt; @nodeB .
					}
					GRAPH ?graph2 {
					@nodeB &lt;@relationType2&gt; @nodeC .
					}
				}
		</sparql>
		</query>
		<query name="All relations from a node" returnType="relationTriple">
			<description>Search for relations from node A</description>
			<parameter id="nodeA" type="optionalUri">
				<name>Node URI</name>
			</parameter>
			<parameter id="nodeB" type="optionalUri">
				<name>Node B URI (optional)</name>
			</parameter>
			<sparql>
		BASE &lt;http://www.semantic-systems-biology.org/&gt;
			SELECT DISTINCT @nodeA ?relation1 @nodeB
			WHERE {
				GRAPH ?graph {
					@nodeA ?relation1 @nodeB .
				}
			}
		</sparql>
		</query>
		<query name="Find relations between two nodes" returnType="relationTriple">
			<description>Search for nodes A to B. Note: Both nodes cannot be wildcards!</description>
			<parameter id="nodeA" type="optionalUri">
				<name>Node A URI (optional)</name>
			</parameter>
			<parameter id="relationType1" type="combobox">
				<name>A to B relation type</name>
				<option name="part of">http://purl.obolibrary.org/obo/BFO_0000050</option>
				<option name="inheres in">http://purl.obolibrary.org/obo/RO_0000052</option>
				<option name="bearer of">http://purl.obolibrary.org/obo/RO_0000053</option>
				<option name="regulates">http://purl.obolibrary.org/obo/RO_0002211</option>
				<option name="negatively regulates">http://purl.obolibrary.org/obo/RO_0002212</option>
				<option name="positively regulates">http://purl.obolibrary.org/obo/RO_0002213</option>
				<option name="enables">http://purl.obolibrary.org/obo/RO_0002327</option>
				<option name="involved in">http://purl.obolibrary.org/obo/RO_0002331</option>
				<option name="has agent">http://semanticscience.org/resource/SIO_000139</option>
				<option name="is orthologous to">http://semanticscience.org/resource/SIO_000558</option>
				<option name="is paralogous to">http://semanticscience.org/resource/SIO_000630</option>
				<option name="encodes">http://semanticscience.org/resource/SIO_010078</option>
				<option name="molecularly controls">http://purl.obolibrary.org/obo/RO_0002448</option>
			</parameter>
			<parameter id="nodeB" type="optionalUri">
				<name>Node B URI (optional)</name>
			</parameter>
			<parameter id="limitToTaxon" type="checkbox" default="true">
				<name>Limit to specific taxon</name>
				<option name="false"> </option>
				<option name="true">@nodeB inheres_in: taxon: .</option>
			</parameter>
			<parameter id="taxon" type="combobox">
				<name>Taxon</name>
				<enabled-dependency parameterId="limitToTaxon" isEnabled="true" forParameterValue="true"></enabled-dependency>
				<option name="Homo Sapiens">http://purl.obolibrary.org/obo/NCBITaxon_9606</option>
				<option name="Mus Musculus">http://purl.obolibrary.org/obo/NCBITaxon_10090</option>
				<option name="Saccharomyces Cerevisiae">http://purl.obolibrary.org/obo/NCBITaxon_559292</option>
				<option name="Schizosaccharomyces Pombe">http://purl.obolibrary.org/obo/NCBITaxon_284812</option>
				<option name="Arabidopsis Thaliana">http://purl.obolibrary.org/obo/NCBITaxon_3702</option>
				<option name="Caenorhabditis Elegans">http://purl.obolibrary.org/obo/NCBITaxon_6239</option>
				<option name="Drosophila Melanogaster">http://purl.obolibrary.org/obo/NCBITaxon_7227</option>
				<option name="Xenopus Tropicalis">http://purl.obolibrary.org/obo/NCBITaxon_8364</option>
			</parameter>
			<sparql>
		BASE &lt;http://www.semantic-systems-biology.org/&gt;
		PREFIX inheres_in: &lt;http://purl.obolibrary.org/obo/RO_0000052&gt;
        PREFIX taxon: &lt;@taxon&gt;
		PREFIX relation1: &lt;@relationType1&gt;
			SELECT DISTINCT @nodeA relation1: @nodeB
			WHERE {
				GRAPH ?graph {
					@nodeA relation1: @nodeB .
					@limitToTaxon
				}
			}
		</sparql>
		</query>
		<query name="Find nodes" returnType="nodeListDescription">
			<description>Perform a regex search for matching proteins.</description>
			<parameter id="searchString" type="text">
				<name>Protein name</name>
			</parameter>
			<parameter id="type" type="combobox">
				<name>Type</name>
				<option name="Proteins">PREFIX graph: &lt;refprot&gt;
            PREFIX class: &lt;http://semanticscience.org/resource/SIO_010043&gt;</option>
				<option name="Genes">PREFIX graph: &lt;refseq&gt;
            PREFIX class: &lt;http://semanticscience.org/resource/SIO_010035&gt;</option>
			</parameter>
			<parameter id="taxon" type="combobox">
				<name>Taxon</name>
				<option name="Homo Sapiens">http://purl.obolibrary.org/obo/NCBITaxon_9606</option>
				<option name="Mus Musculus">http://purl.obolibrary.org/obo/NCBITaxon_10090</option>
				<option name="Saccharomyces Cerevisiae">http://purl.obolibrary.org/obo/NCBITaxon_559292</option>
				<option name="Schizosaccharomyces Pombe">http://purl.obolibrary.org/obo/NCBITaxon_284812</option>
				<option name="Arabidopsis Thaliana">http://purl.obolibrary.org/obo/NCBITaxon_3702</option>
				<option name="Caenorhabditis Elegans">http://purl.obolibrary.org/obo/NCBITaxon_6239</option>
				<option name="Drosophila Melanogaster">http://purl.obolibrary.org/obo/NCBITaxon_7227</option>
				<option name="Xenopus Tropicalis">http://purl.obolibrary.org/obo/NCBITaxon_8364</option>
			</parameter>
			<parameter id="regexCase" type="checkbox" default="true">
				<name>Use regex search (slower)</name>
				<option name="false">( ?value = '@searchString' )</option>
				<option name="true">regex ( ?value,'@searchString'@caseSensitivity)</option>
			</parameter>
			<parameter id="caseSensitivity" type="checkbox" default="true">
				<name>Case sensitive (only for regex)</name>
				<option name="false">, 'i'</option>
				<option name="true"></option>
				<enabled-dependency parameterId="regexCase" isEnabled="true" forParameterValue="true"></enabled-dependency>
			</parameter>
			<sparql>BASE &lt;http://www.semantic-systems-biology.org/&gt;
            PREFIX inheres_in: &lt;http://purl.obolibrary.org/obo/RO_0000052&gt;
           	@type
            PREFIX taxon: &lt;@taxon&gt;
            SELECT DISTINCT ?resourceUri ?value ?description WHERE {
            FILTER @regexCase .
            GRAPH graph: {
            ?resourceUri skos:prefLabel|skos:altLabel ?value .
			?resourceUri skos:definition ?description .
            ?resourceUri rdfs:subClassOf class: . 
			?resourceUri inheres_in: taxon: . } }
            ORDER BY ?resourceUri
        </sparql>
		</query>
		<query name="Find proteins participating in the same process" returnType="nodeList">
			<description>Find proteins participating in the same process as the query protein.</description>
			<parameter id="proteinID" type="uniprot_id">
				<name>Uniprot ID</name>
			</parameter>
			<sparql>BASE &lt;http://www.semantic-systems-biology.org/&gt;
            PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#&gt;
            PREFIX involved_in: &lt;http://purl.obolibrary.org/obo/RO_0002331&gt;
            PREFIX graph1: &lt;goa&gt;
            PREFIX graph2: &lt;refprot&gt;
            # Adjust the prefixes below accordingly
            PREFIX protein: &lt;@proteinID&gt;
            SELECT ?query ?target ?goTerm
            WHERE {
            GRAPH graph1: {
            ?GOA_triple1 rdf:subject protein: .
            ?GOA_triple1 rdf:predicate involved_in: .
            ?GOA_triple1 rdf:object ?objectUri .
            ?GOA_triple2 rdf:subject ?protein2 .
            ?GOA_triple2 rdf:predicate involved_in: .
            ?GOA_triple2 rdf:object ?objectUri .
            }
            GRAPH graph2: {
            protein: skos:prefLabel ?query .
            ?protein2 skos:prefLabel ?target .
            }
            GRAPH &lt;go-basic-inf&gt; {
            ?objectUri skos:prefLabel ?goTerm .
            }
            }
        </sparql>
		</query>
		<query name="Count protein interactions" returnType="nodeList">
			<description>Returns the number of interactions for each protein.</description>
			<parameter id="taxon" type="combobox">
				<name>Taxon</name>
				<option name="Homo Sapiens">http://purl.obolibrary.org/obo/NCBITaxon_9606</option>
				<option name="Mus Musculus">http://purl.obolibrary.org/obo/NCBITaxon_10090</option>
			</parameter>
			<sparql>BASE &lt;http://www.semantic-systems-biology.org/&gt;
            PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#&gt;
            PREFIX inheres_in: &lt;http://purl.obolibrary.org/obo/RO_0000052&gt;
            PREFIX has_agent: &lt;http://semanticscience.org/resource/SIO_000139&gt;
            PREFIX graph: &lt;refprot&gt;
            # Adjust the prefixes below accordingly
            PREFIX taxon: &lt;@taxon&gt;
            SELECT ?proteinUri ?protein
            WHERE {
            GRAPH graph: {
            ?proteinUri inheres_in: taxon: .
            ?proteinUri skos:prefLabel ?protein .
            }
            GRAPH &lt;intact&gt; {
            ?ppi_id has_agent: ?proteinUri .
            }
            }
        </sparql>
		</query>
	</queryList>
</configuration>
